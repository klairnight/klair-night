<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KN ‚Äî Tienda</title>
  <meta name="description" content="Tienda KN ‚Äî Tops, Shorts y Polleras, Bodys." />
  <style>
    :root{
      --bg: #ffffff;
      --fg: #121212;
      --muted: #6b6b6b;
      --card: #ffffff;
      --line: #e8e8e8;
      --shadow: 0 10px 30px rgba(0,0,0,.08);

      /* Bordeaux */
      --brand: #6f1126;
      --brand2:#8b1c35;

      /* Dark elegant sections */
      --dark: #0f0f12;
      --dark2:#16161b;
      --darkline: rgba(255,255,255,.10);
      --darkmuted: rgba(255,255,255,.70);

      --radius: 18px;
      --radius2: 24px;
      --pad: 18px;
      --max: 1160px;

      --focus: 0 0 0 3px rgba(111,17,38,.25);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--fg);
      background:linear-gradient(180deg,#fff, #fff 60%, #fbfbfb);
    }
    a{color:inherit;text-decoration:none}
    button,input,select,textarea{font:inherit}

    .container{max-width:var(--max);margin:0 auto;padding:0 18px}
    .row{display:flex;gap:14px;align-items:center}
    .wrap{flex-wrap:wrap}

    /* ===== Topbar / Header ===== */
    header{
      position:sticky;top:0;z-index:50;
      background:rgba(15,15,18,.92);
      backdrop-filter: blur(12px);
      border-bottom:1px solid var(--darkline);
    }
    .topbar{
      display:flex;align-items:center;justify-content:space-between;
      padding:12px 0;
      gap:12px;
    }
    .brand{
      display:flex;align-items:center;gap:12px;
      min-width:220px;
    }
    .kn-badge{
      width:44px;height:44px;border-radius:14px;
      background:linear-gradient(135deg,var(--brand),var(--brand2));
      display:grid;place-items:center;
      color:#fff;font-weight:900;letter-spacing:.5px;
      box-shadow: 0 10px 30px rgba(111,17,38,.35);
      user-select:none;
    }
    .brand-title{
      display:flex;flex-direction:column;line-height:1.1;
      color:#fff;
    }
    .brand-title strong{font-size:14px;letter-spacing:.2px}
    .brand-title span{font-size:12px;color:var(--darkmuted)}
    .logo-slot{
      display:none;
      /* Si quer√©s mostrar un logo imagen en vez del badge, activ√° .logo-slot y ocult√° .kn-badge en HTML */
    }
    nav{
      display:flex;gap:14px;flex-wrap:wrap;justify-content:center;
    }
    nav a{
      color:rgba(255,255,255,.86);
      font-size:13px;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid transparent;
      transition:.15s ease;
    }
    nav a:hover{border-color:rgba(255,255,255,.16); background:rgba(255,255,255,.06)}
    nav a.active{border-color:rgba(255,255,255,.18); background:rgba(255,255,255,.08)}

    .header-actions{
      display:flex;align-items:center;justify-content:flex-end;gap:10px;
      min-width:220px;
    }
    .pill{
      color:#fff;
      border:1px solid rgba(255,255,255,.16);
      background:rgba(255,255,255,.06);
      border-radius:999px;
      padding:10px 12px;
      font-size:13px;
      display:flex;gap:8px;align-items:center;
      cursor:pointer;
      transition:.15s ease;
    }
    .pill:hover{background:rgba(255,255,255,.10)}
    .pill:focus{outline:none;box-shadow:var(--focus)}
    .cart-count{
      min-width:22px;height:22px;border-radius:999px;
      background:linear-gradient(135deg,var(--brand),var(--brand2));
      display:grid;place-items:center;
      font-size:12px;font-weight:800;
      box-shadow:0 8px 20px rgba(111,17,38,.35);
    }

    /* ===== Hero ===== */
    .hero{
      background:
        radial-gradient(900px 400px at 10% 0%, rgba(111,17,38,.18), transparent 55%),
        radial-gradient(900px 400px at 90% 0%, rgba(111,17,38,.12), transparent 55%),
        linear-gradient(180deg, #0f0f12, #121218);
      color:#fff;
      border-bottom:1px solid var(--darkline);
    }
    .hero-inner{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:18px;
      padding:28px 0 26px;
      align-items:stretch;
    }
    @media (max-width: 900px){
      .hero-inner{grid-template-columns:1fr}
      .brand{min-width:auto}
      .header-actions{min-width:auto}
    }
    .hero-left{
      display:flex;flex-direction:column;gap:14px;
    }
    .hero h1{
      margin:0;
      font-size: clamp(26px, 3vw, 40px);
      letter-spacing:.2px;
      line-height:1.05;
    }
    .hero p{
      margin:0;
      color:var(--darkmuted);
      max-width:52ch;
      font-size:14px;
      line-height:1.6;
    }
    .hero-cta{
      display:flex;gap:10px;flex-wrap:wrap;
      margin-top:4px;
    }
    .btn{
      border:1px solid transparent;
      border-radius:999px;
      padding:12px 14px;
      font-weight:800;
      letter-spacing:.2px;
      cursor:pointer;
      transition:.15s ease;
      display:inline-flex;align-items:center;gap:10px;
    }
    .btn:focus{outline:none;box-shadow:var(--focus)}
    .btn-primary{
      background:linear-gradient(135deg,var(--brand),var(--brand2));
      color:#fff;
      box-shadow:0 14px 30px rgba(111,17,38,.35);
    }
    .btn-primary:hover{filter:brightness(1.03)}
    .btn-ghost{
      background:rgba(255,255,255,.08);
      border-color:rgba(255,255,255,.16);
      color:#fff;
    }
    .btn-ghost:hover{background:rgba(255,255,255,.12)}

    .hero-right{
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      border-radius:var(--radius2);
      overflow:hidden;
      display:flex;flex-direction:column;
      min-height:220px;
    }
    .hero-img{
      flex:1;
      background:
        linear-gradient(135deg, rgba(111,17,38,.25), rgba(255,255,255,.03)),
        url("https://images.unsplash.com/photo-1520975869018-87f0e7f58b13?auto=format&fit=crop&w=1400&q=70");
      background-size:cover;
      background-position:center;
      filter:saturate(1.05);
    }
    .hero-img-note{
      padding:12px 14px;
      font-size:12px;
      color:rgba(255,255,255,.78);
      border-top:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.18);
    }

    /* ===== Sections ===== */
    section{padding:28px 0}
    .section-title{
      display:flex;align-items:flex-end;justify-content:space-between;gap:12px;flex-wrap:wrap;
      margin-bottom:14px;
    }
    .section-title h2{margin:0;font-size:18px}
    .section-title small{color:var(--muted)}
    .chip{
      display:inline-flex;align-items:center;gap:8px;
      border:1px solid var(--line);
      background:#fff;
      border-radius:999px;
      padding:10px 12px;
      font-size:13px;
      box-shadow: var(--shadow);
    }
    .chip strong{color:var(--brand)}
    .note{
      color:var(--muted);font-size:13px;line-height:1.55
    }

    /* ===== Featured ===== */
    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:14px;
    }
    @media (max-width: 920px){ .grid{grid-template-columns:repeat(2,1fr)} }
    @media (max-width: 560px){ .grid{grid-template-columns:1fr} }

    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius2);
      overflow:hidden;
      box-shadow: var(--shadow);
      display:flex;flex-direction:column;
      min-height:100%;
    }
    .card-img{
      aspect-ratio: 4/5;
      background:#f3f3f3;
      background-size:cover;
      background-position:center;
    }
    .card-body{padding:14px}
    .card h3{margin:0 0 6px 0;font-size:15px}
    .price{
      font-weight:900;
      color:var(--brand);
      letter-spacing:.2px;
    }
    .meta{
      display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;
      margin-top:10px;
    }
    .mini{
      font-size:12px;color:var(--muted)
    }
    .actions{
      display:flex;gap:8px;flex-wrap:wrap;
      margin-top:10px;
    }
    .btn-sm{
      padding:10px 12px;
      font-size:13px;
      font-weight:900;
    }
    .btn-outline{
      background:#fff;
      border-color:var(--line);
      color:var(--fg);
    }
    .btn-outline:hover{border-color:#d8d8d8}
    .btn-add{
      background:linear-gradient(135deg,var(--brand),var(--brand2));
      color:#fff;
    }

    /* ===== Shop controls ===== */
    .controls{
      display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between;
      margin-bottom:12px;
    }
    .control-left{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .select, .search{
      border:1px solid var(--line);
      border-radius:999px;
      padding:10px 12px;
      background:#fff;
      box-shadow: var(--shadow);
      font-size:13px;
    }
    .search{min-width:min(360px, 90vw)}
    .select:focus,.search:focus{outline:none;box-shadow:var(--focus)}

    /* ===== Color swatches ===== */
    .swatches{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .swatch{
      border:1px solid var(--line);
      background:#fff;
      border-radius:999px;
      padding:8px 10px;
      font-size:12px;
      cursor:pointer;
      transition:.12s ease;
      user-select:none;
    }
    .swatch:hover{border-color:#d5d5d5}
    .swatch.active{
      border-color: rgba(111,17,38,.45);
      box-shadow: 0 0 0 3px rgba(111,17,38,.12);
    }

    /* ===== FAQ ===== */
    .faq{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:14px;
    }
    @media (max-width: 900px){ .faq{grid-template-columns:1fr} }

    details{
      background:#fff;
      border:1px solid var(--line);
      border-radius:var(--radius2);
      box-shadow:var(--shadow);
      padding:12px 14px;
    }
    summary{
      cursor:pointer;
      font-weight:900;
      list-style:none;
    }
    summary::-webkit-details-marker{display:none}
    details p{color:var(--muted);margin:10px 0 0 0;line-height:1.6}

    /* ===== Contact ===== */
    .contact{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:14px;
    }
    @media (max-width: 900px){ .contact{grid-template-columns:1fr} }
    .panel{
      background:#fff;border:1px solid var(--line);
      border-radius:var(--radius2);
      box-shadow:var(--shadow);
      padding:14px;
    }
    .icons{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .icon-btn{
      display:inline-flex;align-items:center;gap:10px;
      border:1px solid var(--line);
      border-radius:999px;
      padding:10px 12px;
      background:#fff;
      cursor:pointer;
      transition:.12s ease;
      font-weight:800;
      font-size:13px;
    }
    .icon-btn:hover{border-color:#d8d8d8}
    .ico{
      width:18px;height:18px;display:inline-block;
    }

    form{display:flex;flex-direction:column;gap:10px}
    .field{
      border:1px solid var(--line);
      border-radius:14px;
      padding:12px 12px;
      background:#fff;
    }
    textarea.field{min-height:110px;resize:vertical}
    .field:focus{outline:none;box-shadow:var(--focus)}

    /* ===== Footer ===== */
    footer{
      background:linear-gradient(180deg,#0f0f12,#0b0b0e);
      color:#fff;
      border-top:1px solid var(--darkline);
      padding:22px 0;
    }
    footer .muted{color:rgba(255,255,255,.70);font-size:13px;line-height:1.6}

    /* ===== Cart drawer ===== */
    .overlay{
      position:fixed;inset:0;
      background:rgba(0,0,0,.45);
      display:none;
      z-index:90;
    }
    .overlay.show{display:block}
    .drawer{
      position:fixed;top:0;right:0;height:100%;width:min(420px, 92vw);
      background:linear-gradient(180deg,#121218,#0f0f12);
      border-left:1px solid rgba(255,255,255,.12);
      color:#fff;
      transform: translateX(100%);
      transition: transform .18s ease;
      z-index:100;
      display:flex;flex-direction:column;
    }
    .drawer.show{transform: translateX(0)}
    .drawer header{
      position:static;
      background:transparent;
      border:0;
    }
    .drawer-top{
      padding:14px;
      border-bottom:1px solid rgba(255,255,255,.12);
      display:flex;align-items:center;justify-content:space-between;gap:10px;
    }
    .drawer-top h3{margin:0;font-size:16px}
    .xbtn{
      width:40px;height:40px;border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.06);
      color:#fff;
      cursor:pointer;
    }
    .xbtn:hover{background:rgba(255,255,255,.10)}
    .xbtn:focus{outline:none;box-shadow:var(--focus)}
    .cart-list{
      padding:14px;
      overflow:auto;
      display:flex;flex-direction:column;gap:10px;
      flex:1;
    }
    .cart-item{
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06);
      border-radius:18px;
      padding:12px;
      display:grid;
      grid-template-columns: 56px 1fr;
      gap:12px;
      align-items:center;
    }
    .cart-thumb{
      width:56px;height:56px;border-radius:16px;
      background:#222;
      background-size:cover;background-position:center;
      border:1px solid rgba(255,255,255,.10);
    }
    .cart-item h4{margin:0;font-size:13px}
    .cart-item .sub{color:rgba(255,255,255,.75);font-size:12px;margin-top:4px}
    .qty{
      display:flex;gap:8px;align-items:center;margin-top:10px;flex-wrap:wrap
    }
    .qbtn{
      width:34px;height:34px;border-radius:12px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.06);
      color:#fff;
      cursor:pointer;
      font-weight:900;
    }
    .qbtn:hover{background:rgba(255,255,255,.10)}
    .qbtn:focus{outline:none;box-shadow:var(--focus)}
    .qty span{font-weight:900}
    .trash{
      margin-left:auto;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.06);
      color:#fff;
      border-radius:999px;
      padding:9px 12px;
      cursor:pointer;
      font-weight:900;
      font-size:12px;
    }
    .trash:hover{background:rgba(255,255,255,.10)}
    .drawer-bottom{
      padding:14px;
      border-top:1px solid rgba(255,255,255,.12);
      display:flex;flex-direction:column;gap:10px;
    }
    .total{
      display:flex;align-items:center;justify-content:space-between;
      font-weight:900;
    }
    .small{
      font-size:12px;color:rgba(255,255,255,.75);line-height:1.5
    }
    .buy-row{display:flex;gap:10px;flex-wrap:wrap}
    .btn-full{flex:1;justify-content:center}
    .btn-disabled{opacity:.5;cursor:not-allowed;filter:saturate(.6)}
    .danger{
      border:1px solid rgba(255,255,255,.14);
      background:transparent;
      color:#fff;
    }

    /* ===== Quick View modal ===== */
    .modalWrap{
      position:fixed;inset:0;
      display:none;
      place-items:center;
      z-index:120;
      padding:18px;
    }
    .modalWrap.show{display:grid}
    .modal{
      width:min(980px, 96vw);
      background:#fff;
      border:1px solid var(--line);
      border-radius:24px;
      overflow:hidden;
      box-shadow: 0 30px 80px rgba(0,0,0,.22);
      display:grid;
      grid-template-columns: 1fr 1fr;
    }
    @media (max-width: 900px){ .modal{grid-template-columns:1fr} }
    .modalImg{
      min-height:320px;
      background:#f3f3f3;
      background-size:cover;background-position:center;
    }
    .modalBody{padding:16px}
    .modalTop{display:flex;justify-content:space-between;align-items:flex-start;gap:10px}
    .modalBody h3{margin:0 0 6px 0}
    .modalBody .desc{color:var(--muted);font-size:13px;line-height:1.6;margin:0 0 10px 0}
    .modalClose{
      width:40px;height:40px;border-radius:14px;border:1px solid var(--line);
      background:#fff;cursor:pointer;
    }
    .modalClose:hover{background:#f7f7f7}
    .modalClose:focus{outline:none;box-shadow:var(--focus)}
    .sep{height:1px;background:var(--line);margin:12px 0}

    /* Utility */
    .hidden{display:none !important}
  </style>
</head>

<body>

<header>
  <div class="container">
    <div class="topbar">

      <!-- Logo / Abreviatura -->
      <a class="brand" href="#inicio" aria-label="Ir a inicio">
        <!-- Si quer√©s poner tu logo imagen, reemplaz√° este badge por <img src="TU_LOGO.png" ...> -->
        <div class="kn-badge" title="KN">KN</div>
        <div class="brand-title">
          <strong>KN</strong>
          <span>Blanco & Bordeaux ¬∑ estilo elegante</span>
        </div>
      </a>

      <nav aria-label="Navegaci√≥n principal">
        <a href="#inicio" class="active">Inicio</a>
        <a href="#tienda">Tienda</a>
        <a href="#ayuda">Ayuda</a>
        <a href="#contacto">Contacto</a>
      </nav>

      <div class="header-actions">
        <button class="pill" id="openCartBtn" type="button" aria-label="Abrir carrito">
          üõí Carrito
          <span class="cart-count" id="cartCount">0</span>
        </button>
      </div>

    </div>
  </div>
</header>

<!-- HERO / Banner horizontal -->
<section class="hero" id="inicio">
  <div class="container">
    <div class="hero-inner">
      <div class="hero-left">
        <h1>KN ‚Äî Tu outfit, tu estilo</h1>
        <p>
          Cat√°logo con compra directa. Eleg√≠s el producto, agreg√°s al carrito y pag√°s desde Mercado Pago.
          Env√≠os por Correo Argentino o Andreani.
        </p>

        <div class="hero-cta">
          <a class="btn btn-primary" href="#tienda">üõçÔ∏è Ver tienda</a>
          <button class="btn btn-ghost" type="button" id="openFeatured">‚≠ê Ver destacados</button>
        </div>

        <div class="chip" title="Alias Mercado Pago">
          üí≥ Alias MP: <strong id="mpAliasText">TU.ALIAS.AQUI</strong>
        </div>

        <div class="note">
          * Pod√©s cambiar el alias, FAQ y productos editando el bloque <b>CONFIG</b> dentro del archivo.
        </div>
      </div>

      <div class="hero-right" aria-label="Banner principal">
        <div class="hero-img" id="heroImg"></div>
        <div class="hero-img-note">
          Banner horizontal editable (cambi√° la URL en CONFIG ‚Üí <b>heroBanner</b>).
        </div>
      </div>
    </div>
  </div>
</section>

<!-- DESTACADOS -->
<section>
  <div class="container">
    <div class="section-title">
      <h2>Destacados</h2>
      <small>3 productos al inicio</small>
    </div>
    <div class="grid" id="featuredGrid"></div>
  </div>
</section>

<!-- TIENDA -->
<section id="tienda">
  <div class="container">
    <div class="section-title">
      <h2>Tienda</h2>
      <small>Tops ¬∑ Shorts y Polleras ¬∑ Bodys</small>
    </div>

    <div class="controls">
      <div class="control-left">
        <select class="select" id="categorySelect" aria-label="Filtrar por categor√≠a">
          <option value="all">Todas las categor√≠as</option>
          <option value="Tops">Tops</option>
          <option value="Shorts y Polleras">Shorts y Polleras</option>
          <option value="Bodys">Bodys</option>
        </select>

        <input class="search" id="searchInput" type="search" placeholder="Buscar por nombre (ej: top, body, pollera‚Ä¶)" />
      </div>

      <div class="chip">
        üöö Env√≠os: <strong>Correo Argentino</strong> ¬∑ <strong>Andreani</strong>
      </div>
    </div>

    <div class="grid" id="shopGrid"></div>
  </div>
</section>

<!-- AYUDA / FAQ -->
<section id="ayuda">
  <div class="container">
    <div class="section-title">
      <h2>Ayuda</h2>
      <small>Preguntas frecuentes editables</small>
    </div>

    <div class="faq" id="faqGrid"></div>

    <p class="note" style="margin-top:12px">
      Para modificar preguntas y respuestas: busc√° en este archivo la secci√≥n <b>CONFIG ‚Üí faq</b> y edit√° el texto.
    </p>
  </div>
</section>

<!-- CONTACTO -->
<section id="contacto">
  <div class="container">
    <div class="section-title">
      <h2>Contacto</h2>
      <small>Instagram ¬∑ TikTok ¬∑ WhatsApp ¬∑ Email</small>
    </div>

    <div class="contact">
      <div class="panel">
        <h3 style="margin:0 0 6px 0">Redes</h3>
        <p class="note" style="margin:0 0 10px 0">
          Toc√° un bot√≥n para contactarte directo.
        </p>

        <div class="icons">
          <a class="icon-btn" id="igLink" target="_blank" rel="noopener">
            <span class="ico">üì∑</span> Instagram
          </a>
          <a class="icon-btn" id="ttLink" target="_blank" rel="noopener">
            <span class="ico">üéµ</span> TikTok
          </a>
          <a class="icon-btn" id="waLink" target="_blank" rel="noopener">
            <span class="ico">üí¨</span> WhatsApp
          </a>
        </div>

        <div class="sep"></div>

        <p class="note" style="margin:0">
          üìß Email: <b><span id="emailText">tuemail@dominio.com</span></b><br/>
          üí≥ Alias Mercado Pago: <b><span id="mpAliasText2">TU.ALIAS.AQUI</span></b>
        </p>
      </div>

      <div class="panel">
        <h3 style="margin:0 0 6px 0">Dejanos un mensaje</h3>
        <p class="note" style="margin:0 0 10px 0">
          Este formulario abre tu mail (sin servidor). Si quer√©s que llegue ‚Äús√≠ o s√≠‚Äù sin mail del cliente, despu√©s te lo conecto a un servicio tipo Formspree o a tu backend.
        </p>

        <form id="contactForm">
          <input class="field" id="cfName" placeholder="Tu nombre" required />
          <input class="field" id="cfEmail" type="email" placeholder="Tu email" required />
          <textarea class="field" id="cfMsg" placeholder="Escrib√≠ tu mensaje‚Ä¶" required></textarea>
          <button class="btn btn-primary btn-sm" type="submit">Enviar</button>
        </form>
      </div>
    </div>
  </div>
</section>

<footer>
  <div class="container">
    <div class="row wrap" style="justify-content:space-between;gap:18px">
      <div>
        <div style="display:flex;align-items:center;gap:10px;margin-bottom:6px">
          <div class="kn-badge" aria-hidden="true" style="width:38px;height:38px;border-radius:14px">KN</div>
          <div>
            <div style="font-weight:900">KN</div>
            <div class="muted" id="brandTagline">Indumentaria ¬∑ Blanco & Bordeaux</div>
          </div>
        </div>
        <div class="muted" id="footerInfo">
          ¬© <span id="year"></span> KN ‚Äî Todos los derechos reservados.
        </div>
      </div>

      <div class="muted" style="max-width:56ch">
        <div><b>Env√≠os</b>: Correo Argentino / Andreani.</div>
        <div><b>Pagos</b>: Mercado Pago (link directo por producto).</div>
        <div><b>Contacto</b>: <span id="footerEmail">tuemail@dominio.com</span></div>
      </div>
    </div>
  </div>
</footer>

<!-- Cart Drawer -->
<div class="overlay" id="overlay"></div>
<aside class="drawer" id="drawer" aria-label="Carrito">
  <div class="drawer-top">
    <h3>Carrito</h3>
    <button class="xbtn" id="closeCartBtn" type="button" aria-label="Cerrar carrito">‚úï</button>
  </div>

  <div class="cart-list" id="cartList"></div>

  <div class="drawer-bottom">
    <div class="total">
      <span>Total</span>
      <span id="cartTotal">$ 0</span>
    </div>

    <div class="small">
      ‚úÖ Opci√≥n recomendada: <b>1 link de Mercado Pago por producto</b>.<br/>
      Si ten√©s m√°s de 1 producto en el carrito, pod√©s:
      <ul style="margin:8px 0 0 18px;padding:0;color:rgba(255,255,255,.75)">
        <li><b>Pagar por producto</b> (abre el link del producto seleccionado), o</li>
        <li>usar un <b>link de ‚Äúpago total‚Äù</b> (si lo configur√°s en Mercado Pago y lo peg√°s en CONFIG).</li>
      </ul>
    </div>

    <div class="buy-row">
      <button class="btn btn-primary btn-sm btn-full" id="checkoutBtn" type="button">Comprar</button>
      <button class="btn btn-sm danger" id="clearCartBtn" type="button">Vaciar</button>
    </div>

    <div class="small" id="checkoutHint"></div>
  </div>
</aside>

<!-- Quick View Modal -->
<div class="modalWrap" id="modalWrap" role="dialog" aria-modal="true" aria-label="Vista r√°pida">
  <div class="modal">
    <div class="modalImg" id="modalImg"></div>
    <div class="modalBody">
      <div class="modalTop">
        <div>
          <h3 id="modalTitle"></h3>
          <div class="price" id="modalPrice"></div>
        </div>
        <button class="modalClose" id="modalClose" type="button" aria-label="Cerrar">‚úï</button>
      </div>

      <p class="desc" id="modalDesc"></p>

      <div class="sep"></div>

      <div>
        <div class="mini"><b>Categor√≠a:</b> <span id="modalCat"></span></div>
        <div class="mini"><b>Color:</b> <span id="modalColorText"></span></div>
        <div class="swatches" id="modalSwatches"></div>
      </div>

      <div class="actions">
        <button class="btn btn-add btn-sm" id="modalAddBtn" type="button">Agregar al carrito</button>
        <button class="btn btn-outline btn-sm" id="modalBuyBtn" type="button">Comprar ahora</button>
      </div>

      <p class="note" style="margin-top:10px">
        Pag√°s directo en Mercado Pago. Env√≠os por Correo Argentino o Andreani.
      </p>
    </div>
  </div>
</div>

<script>
/* =========================
   CONFIG ‚Äî EDIT√Å TODO AC√Å
   ========================= */
const CONFIG = {
  brandName: "KN",
  tagline: "Brill√° de noche con tu outfit",
  email: "klairnight@gmail.com",
  mpAlias: "anto.knaus",

  // Banner horizontal (pod√©s reemplazar por tu imagen):
  heroBanner: "https://images.unsplash.com/photo-1520975869018-87f0e7f58b13?auto=format&fit=crop&w=1600&q=75",

  // Redes (pon√© tus links):
  instagramUrl: "https://instagram.com/",
  tiktokUrl: "https://tiktok.com/@",
  whatsappUrl: "https://wa.me/54911XXXXXXXX", // ejemplo: 54911 + n√∫mero (sin 0 ni 15)

  // Si quer√©s un link de ‚Äúpago total‚Äù (opcional):
  // Crealo en Mercado Pago y pegalo ac√°. Si lo dej√°s vac√≠o, el checkout recomendado ser√° por producto.
  mercadoPagoTotalLink: "",

  // FAQ editable:
  faq: [
    { q: "¬øC√≥mo elijo el talle?", a: "En la descripci√≥n de cada producto pod√©s ver la gu√≠a. Si ten√©s dudas, escribinos por Instagram o WhatsApp." },
    { q: "¬øQu√© formas de env√≠o hay?", a: "Enviamos por Correo Argentino o Andreani. Coordinamos seg√∫n tu ubicaci√≥n." },
    { q: "¬øC√≥mo pago?", a: "Pag√°s directo con Mercado Pago desde el bot√≥n Comprar. Tambi√©n dejamos el alias para transferencias." },
    { q: "¬øCu√°nto tarda?", a: "Depende del correo y la zona. Te pasamos seguimiento cuando despachamos." }
  ],

  // Productos:
  // - mpLink: link de pago de Mercado Pago (uno por producto).
  // - colors: lista de colores disponibles (se muestran como botones).
  products: [
    {
      id: "top-01",
      featured: true,
      name: "Top Bordeaux Satin",
      category: "Tops",
      price: 18900,
      currency: "ARS",
      img: "https://images.unsplash.com/photo-1520975916090-3105956dac38?auto=format&fit=crop&w=1200&q=70",
      desc: "Top elegante, ideal para noche. Tela suave y ca√≠da.",
      colors: ["Bordeaux", "Negro", "Blanco"],
      mpLink: "https://link.mercadopago.com.ar/TU-LINK-DEL-PRODUCTO-1"
    },
    {
      id: "short-01",
      featured: true,
      name: "Short Sastrero",
      category: "Shorts y Polleras",
      price: 21900,
      currency: "ARS",
      img: "https://images.unsplash.com/photo-1520975914991-8c2a6f5c1a6b?auto=format&fit=crop&w=1200&q=70",
      desc: "Short de vestir, c√≥modo y combinable.",
      colors: ["Negro", "Blanco"],
      mpLink: "https://link.mercadopago.com.ar/TU-LINK-DEL-PRODUCTO-2"
    },
    {
      id: "body-01",
      featured: true,
      name: "Body B√°sico Premium",
      category: "Bodys",
      price: 24900,
      currency: "ARS",
      img: "https://images.unsplash.com/photo-1520975869018-87f0e7f58b13?auto=format&fit=crop&w=1200&q=70",
      desc: "Body elastizado, calce c√≥modo y elegante.",
      colors: ["Negro", "Blanco", "Bordeaux"],
      mpLink: "https://link.mercadopago.com.ar/TU-LINK-DEL-PRODUCTO-3"
    },

    // M√°s productos (ejemplos)
    {
      id: "pollera-01",
      featured: false,
      name: "Pollera Midi",
      category: "Shorts y Polleras",
      price: 27900,
      currency: "ARS",
      img: "https://images.unsplash.com/photo-1520975905234-3d2b7a6f8e48?auto=format&fit=crop&w=1200&q=70",
      desc: "Pollera midi cl√°sica, perfecta para combinar.",
      colors: ["Negro", "Bordeaux"],
      mpLink: "https://link.mercadopago.com.ar/TU-LINK-DEL-PRODUCTO-4"
    },
    {
      id: "top-02",
      featured: false,
      name: "Top Blanco Minimal",
      category: "Tops",
      price: 16900,
      currency: "ARS",
      img: "https://images.unsplash.com/photo-1520975906957-6d7f7b1af2e7?auto=format&fit=crop&w=1200&q=70",
      desc: "Top minimal, ideal para todos los d√≠as.",
      colors: ["Blanco", "Negro"],
      mpLink: "https://link.mercadopago.com.ar/TU-LINK-DEL-PRODUCTO-5"
    },
    {
      id: "body-02",
      featured: false,
      name: "Body Manga Larga",
      category: "Bodys",
      price: 28900,
      currency: "ARS",
      img: "https://images.unsplash.com/photo-1520975903712-1b4b22c9c91a?auto=format&fit=crop&w=1200&q=70",
      desc: "Body manga larga, calce premium.",
      colors: ["Negro"],
      mpLink: "https://link.mercadopago.com.ar/TU-LINK-DEL-PRODUCTO-6"
    }
  ]
};

/* =========================
   Helpers
   ========================= */
const $ = (s, el=document) => el.querySelector(s);
const $$ = (s, el=document) => [...el.querySelectorAll(s)];
const money = (n) => {
  // Formato ARS simple
  const parts = Math.round(n).toString().split("");
  let out = "";
  while(parts.length){
    out = parts.pop() + out;
    if(parts.length && out.replace(/\D/g,"").length % 3 === 0) out = "." + out;
  }
  return "$ " + out;
};
const safeText = (v) => String(v ?? "");

/* =========================
   State (cart + selected colors)
   ========================= */
const LS_CART = "kn_cart_v1";
const LS_COLOR = "kn_color_v1"; // per product
let cart = loadCart();
let selectedColorByProduct = loadColors();

function loadCart(){
  try { return JSON.parse(localStorage.getItem(LS_CART)) || []; }
  catch { return []; }
}
function saveCart(){
  localStorage.setItem(LS_CART, JSON.stringify(cart));
  updateCartUI();
}
function loadColors(){
  try { return JSON.parse(localStorage.getItem(LS_COLOR)) || {}; }
  catch { return {}; }
}
function saveColors(){
  localStorage.setItem(LS_COLOR, JSON.stringify(selectedColorByProduct));
}

function getProduct(id){
  return CONFIG.products.find(p => p.id === id);
}

/* Cart item shape:
  { id: "top-01", qty: 1, color: "Negro" }
*/
function addToCart(productId, color){
  const p = getProduct(productId);
  if(!p) return;
  const chosen = color || selectedColorByProduct[productId] || (p.colors?.[0] ?? "√önico");
  const existing = cart.find(i => i.id === productId && i.color === chosen);
  if(existing) existing.qty += 1;
  else cart.push({ id: productId, qty: 1, color: chosen });
  saveCart();
  openCart();
}

function removeLine(index){
  cart.splice(index, 1);
  saveCart();
}
function setQty(index, qty){
  qty = Math.max(1, Math.min(99, qty));
  cart[index].qty = qty;
  saveCart();
}
function clearCart(){
  cart = [];
  saveCart();
}
function cartCount(){
  return cart.reduce((a,i)=>a+i.qty,0);
}
function cartTotal(){
  return cart.reduce((sum, i) => {
    const p = getProduct(i.id);
    return sum + (p ? p.price * i.qty : 0);
  }, 0);
}

/* =========================
   Render
   ========================= */
function initStatic(){
  document.title = `${CONFIG.brandName} ‚Äî Tienda`;
  $("#brandTagline").textContent = CONFIG.tagline;
  $("#emailText").textContent = CONFIG.email;
  $("#footerEmail").textContent = CONFIG.email;
  $("#mpAliasText").textContent = CONFIG.mpAlias;
  $("#mpAliasText2").textContent = CONFIG.mpAlias;
  $("#year").textContent = new Date().getFullYear();

  $("#igLink").href = CONFIG.instagramUrl;
  $("#ttLink").href = CONFIG.tiktokUrl;
  $("#waLink").href = CONFIG.whatsappUrl;

  // Hero banner
  $("#heroImg").style.backgroundImage =
    `linear-gradient(135deg, rgba(111,17,38,.25), rgba(255,255,255,.03)), url("${CONFIG.heroBanner}")`;

  // FAQ
  const faqGrid = $("#faqGrid");
  faqGrid.innerHTML = CONFIG.faq.map(item => `
    <details>
      <summary>${safeText(item.q)}</summary>
      <p>${safeText(item.a)}</p>
    </details>
  `).join("");

  // Featured + Shop initial
  renderFeatured();
  renderShop();
  updateCartUI();
}

function productCard(p){
  const chosen = selectedColorByProduct[p.id] || (p.colors?.[0] ?? "√önico");
  const swatches = (p.colors || ["√önico"]).map(c => `
    <div class="swatch ${c === chosen ? "active":""}"
         role="button"
         tabindex="0"
         data-pid="${p.id}"
         data-color="${c}">
      ${safeText(c)}
    </div>
  `).join("");

  return `
  <article class="card" data-id="${p.id}">
    <div class="card-img" style="background-image:url('${p.img}')"></div>
    <div class="card-body">
      <h3>${safeText(p.name)}</h3>
      <div class="row" style="justify-content:space-between;align-items:baseline">
        <div class="price">${money(p.price)}</div>
        <div class="mini">${safeText(p.category)}</div>
      </div>

      <div class="swatches" aria-label="Colores disponibles">
        ${swatches}
      </div>

      <div class="actions">
        <button class="btn btn-outline btn-sm" type="button" data-action="quick" data-id="${p.id}">
          Vista r√°pida
        </button>
        <button class="btn btn-add btn-sm" type="button" data-action="add" data-id="${p.id}">
          Agregar
        </button>
      </div>

      <div class="meta">
        <span class="mini">Color: <b>${safeText(chosen)}</b></span>
        <button class="btn btn-outline btn-sm" type="button" data-action="buy" data-id="${p.id}">
          Comprar
        </button>
      </div>
    </div>
  </article>`;
}

function renderFeatured(){
  const featured = CONFIG.products.filter(p => p.featured).slice(0,3);
  $("#featuredGrid").innerHTML = featured.map(productCard).join("");
}

function renderShop(){
  const cat = $("#categorySelect").value;
  const q = ($("#searchInput").value || "").trim().toLowerCase();

  let list = CONFIG.products.slice();
  if(cat !== "all") list = list.filter(p => p.category === cat);
  if(q) list = list.filter(p => (p.name || "").toLowerCase().includes(q));

  $("#shopGrid").innerHTML = list.map(productCard).join("");
}

function updateCartUI(){
  $("#cartCount").textContent = String(cartCount());
  $("#cartTotal").textContent = money(cartTotal());

  const list = $("#cartList");
  if(cart.length === 0){
    list.innerHTML = `
      <div class="cart-item" style="grid-template-columns:1fr">
        <div>
          <h4>Tu carrito est√° vac√≠o</h4>
          <div class="sub">Agreg√° productos desde la tienda.</div>
        </div>
      </div>
    `;
  } else {
    list.innerHTML = cart.map((line, idx) => {
      const p = getProduct(line.id);
      if(!p) return "";
      return `
        <div class="cart-item">
          <div class="cart-thumb" style="background-image:url('${p.img}')"></div>
          <div>
            <h4>${safeText(p.name)}</h4>
            <div class="sub">
              ${safeText(line.color)} ¬∑ ${money(p.price)} √ó ${line.qty} = <b>${money(p.price * line.qty)}</b>
            </div>
            <div class="qty">
              <button class="qbtn" type="button" data-q="minus" data-i="${idx}">‚àí</button>
              <span>${line.qty}</span>
              <button class="qbtn" type="button" data-q="plus" data-i="${idx}">+</button>
              <button class="trash" type="button" data-remove="${idx}">Eliminar</button>
            </div>
          </div>
        </div>
      `;
    }).join("");
  }

  // Checkout button state
  const checkoutBtn = $("#checkoutBtn");
  const hint = $("#checkoutHint");
  const hasItems = cart.length > 0;
  checkoutBtn.classList.toggle("btn-disabled", !hasItems);
  checkoutBtn.disabled = !hasItems;

  if(!hasItems){
    hint.textContent = "";
  } else if(cart.length === 1){
    const p = getProduct(cart[0].id);
    hint.textContent = p?.mpLink ? "Te llevo directo a Mercado Pago para pagar este producto." : "Falta el link de Mercado Pago de este producto (edit√° mpLink en CONFIG).";
  } else {
    hint.textContent = CONFIG.mercadoPagoTotalLink
      ? "Ten√©s varios productos. Se abrir√° el link de pago total."
      : "Ten√©s varios productos. Recomendado: pagarlos de a 1 (link por producto).";
  }
}

/* =========================
   Drawer open/close
   ========================= */
function openCart(){
  $("#overlay").classList.add("show");
  $("#drawer").classList.add("show");
}
function closeCart(){
  $("#overlay").classList.remove("show");
  $("#drawer").classList.remove("show");
}

/* =========================
   Color selection
   ========================= */
function setSelectedColor(pid, color){
  selectedColorByProduct[pid] = color;
  saveColors();
  // Re-render current grids to reflect active swatch + text
  renderFeatured();
  renderShop();
}

/* =========================
   Quick view modal
   ========================= */
let modalProductId = null;

function openModal(pid){
  const p = getProduct(pid);
  if(!p) return;
  modalProductId = pid;

  $("#modalImg").style.backgroundImage = `url('${p.img}')`;
  $("#modalTitle").textContent = p.name;
  $("#modalPrice").textContent = money(p.price);
  $("#modalDesc").textContent = p.desc || "";
  $("#modalCat").textContent = p.category || "";
  const chosen = selectedColorByProduct[pid] || (p.colors?.[0] ?? "√önico");
  $("#modalColorText").textContent = chosen;

  const sw = $("#modalSwatches");
  sw.innerHTML = (p.colors || ["√önico"]).map(c => `
    <div class="swatch ${c === chosen ? "active":""}"
         role="button"
         tabindex="0"
         data-modal-color="${c}">
      ${safeText(c)}
    </div>
  `).join("");

  $("#modalWrap").classList.add("show");
}
function closeModal(){
  $("#modalWrap").classList.remove("show");
  modalProductId = null;
}

/* =========================
   Buy flow (Mercado Pago)
   ========================= */
function buySingleProduct(pid){
  const p = getProduct(pid);
  if(!p || !p.mpLink){
    alert("Falta el link de Mercado Pago (mpLink) para este producto. Editalo en CONFIG.");
    return;
  }
  // Redirecci√≥n directa a Mercado Pago
  window.open(p.mpLink, "_blank", "noopener");
}

function checkout(){
  if(cart.length === 0) return;

  const alias = CONFIG.mpAlias || "TU.ALIAS.AQUI";
  const total = money(cartTotal());

  // Mensaje antes de enviar a Mercado Pago
  alert(
    "‚úÖ Para transferir, mi alias de Mercado Pago es:\n\n" +
    alias + "\n\n" +
    "Total estimado: " + total + "\n\n" +
    "Muchas gracias ‚ù§Ô∏è\n\n" +
    "Ahora te llevo a Mercado Pago para pagar."
  );

  // Luego del mensaje, enviar a Mercado Pago
  if(cart.length === 1){
    buySingleProduct(cart[0].id);
    return;
  }

  // Si hay link total, lo usa
  if(CONFIG.mercadoPagoTotalLink){
    window.open(CONFIG.mercadoPagoTotalLink, "_blank", "noopener");
    return;
  }

  // Si no hay link total: abre el primer producto (como ya estaba)
  buySingleProduct(cart[0].id);
}


/* =========================
   Events
   ========================= */
document.addEventListener("click", (e) => {
  const t = e.target;

  // Navbar active state
  if(t.matches("nav a")){
    $$("nav a").forEach(a => a.classList.remove("active"));
    t.classList.add("active");
  }

  // Open cart
  if(t.id === "openCartBtn"){ openCart(); }
  if(t.id === "closeCartBtn" || t.id === "overlay"){ closeCart(); }

  // Featured CTA
  if(t.id === "openFeatured"){ location.hash = "#inicio"; window.scrollTo({top: $("#featuredGrid").offsetTop - 60, behavior:"smooth"}); }

  // Product actions
  const action = t.getAttribute("data-action");
  const pid = t.getAttribute("data-id");
  if(action === "add"){ addToCart(pid); }
  if(action === "buy"){ buySingleProduct(pid); }
  if(action === "quick"){ openModal(pid); }

  // Swatch click (grid)
  if(t.classList.contains("swatch") && t.dataset.pid && t.dataset.color){
    setSelectedColor(t.dataset.pid, t.dataset.color);
  }

  // Cart qty
  if(t.dataset.q){
    const i = Number(t.dataset.i);
    if(Number.isFinite(i) && cart[i]){
      if(t.dataset.q === "minus") setQty(i, cart[i].qty - 1);
      if(t.dataset.q === "plus") setQty(i, cart[i].qty + 1);
    }
  }
  if(t.dataset.remove){
    const i = Number(t.dataset.remove);
    if(Number.isFinite(i)) removeLine(i);
  }

  // Drawer buttons
  if(t.id === "clearCartBtn"){
    if(confirm("¬øVaciar carrito?")) clearCart();
  }
  if(t.id === "checkoutBtn"){
    checkout();
  }

  // Modal close
  if(t.id === "modalClose"){ closeModal(); }
  if(t.id === "modalWrap"){ closeModal(); }

  // Modal swatches
  if(t.dataset.modalColor && modalProductId){
    setSelectedColor(modalProductId, t.dataset.modalColor);
    // update modal UI without reopening
    const chosen = selectedColorByProduct[modalProductId];
    $("#modalColorText").textContent = chosen;
    $$("#modalSwatches .swatch").forEach(el => el.classList.toggle("active", el.textContent.trim() === chosen));
  }

  // Modal buttons
  if(t.id === "modalAddBtn" && modalProductId){
    addToCart(modalProductId);
    closeModal();
  }
  if(t.id === "modalBuyBtn" && modalProductId){
    buySingleProduct(modalProductId);
  }
});

document.addEventListener("input", (e) => {
  if(e.target.id === "categorySelect" || e.target.id === "searchInput"){
    renderShop();
  }
});

document.addEventListener("keydown", (e) => {
  if(e.key === "Escape"){
    closeCart();
    closeModal();
  }
});

$("#contactForm").addEventListener("submit", (e) => {
  e.preventDefault();
  const name = $("#cfName").value.trim();
  const email = $("#cfEmail").value.trim();
  const msg = $("#cfMsg").value.trim();
  const subject = encodeURIComponent(`Contacto desde la web (${name})`);
  const body = encodeURIComponent(`Nombre: ${name}\nEmail: ${email}\n\nMensaje:\n${msg}\n\nAlias MP: ${CONFIG.mpAlias}`);
  window.location.href = `mailto:${CONFIG.email}?subject=${subject}&body=${body}`;
});

/* =========================
   Boot
   ========================= */
initStatic();
</script>

</body>
</html>
